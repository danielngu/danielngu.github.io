<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.5">Jekyll</generator><link href="http://localhost:4000/log/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/log/" rel="alternate" type="text/html" /><updated>2019-07-29T08:31:59+12:00</updated><id>http://localhost:4000/log/feed.xml</id><title type="html">Daniel Ngu’s Log</title><entry><title type="html">Jul</title><link href="http://localhost:4000/log/2019/07/01/Jul.html" rel="alternate" type="text/html" title="Jul" /><published>2019-07-01T12:00:00+12:00</published><updated>2019-07-01T12:00:00+12:00</updated><id>http://localhost:4000/log/2019/07/01/Jul</id><content type="html" xml:base="http://localhost:4000/log/2019/07/01/Jul.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#arch-1&quot;&gt;Arch Installation / Encrypted Setup / systemd-boot&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;wed-jul-24-2019&quot;&gt;Wed, Jul 24, 2019&lt;/h3&gt;

&lt;h3 id=&quot;arch-installation--encrypted-setup--systemd-boot&quot;&gt;&lt;a name=&quot;arch-1&quot;&gt;&lt;/a&gt;ARCH INSTALLATION / ENCRYPTED SETUP / systemd-boot&lt;/h3&gt;

&lt;p&gt;This is &lt;a href=&quot;https://wiki.archlinux.org/index.php/Dm-crypt/Encrypting_an_entire_system#LVM_on_LUKS&quot;&gt;LVM on LUKS&lt;/a&gt; setup based on Arch’s wiki documentation.&lt;/p&gt;

&lt;h4 id=&quot;keyboard&quot;&gt;Keyboard&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ loadkeys us&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;partition&quot;&gt;Partition&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ lsblk				&lt;span class=&quot;c1&quot;&gt;# List block devices&lt;/span&gt;
$ gdisk /dev/nvme0n1		&lt;span class=&quot;c1&quot;&gt;# To partition /dev/nvme0n1&lt;/span&gt;
$ o				&lt;span class=&quot;c1&quot;&gt;# Either new or start over&lt;/span&gt;
$ y				&lt;span class=&quot;c1&quot;&gt;# Accept&lt;/span&gt;
$ n				&lt;span class=&quot;c1&quot;&gt;# Create new partition&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default partition number&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default first sector&lt;/span&gt;
$ +512M				&lt;span class=&quot;c1&quot;&gt;# Allocated 512MB for boot partition&lt;/span&gt;
$ EF00				&lt;span class=&quot;c1&quot;&gt;# Set type of partition or L to list&lt;/span&gt;
$ n				&lt;span class=&quot;c1&quot;&gt;# Create new partition&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default partition number&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default first sector&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default last sector&lt;/span&gt;
$ &lt;span class=&quot;m&quot;&gt;8300&lt;/span&gt;				&lt;span class=&quot;c1&quot;&gt;# Set partition type to LVM&lt;/span&gt;
$ w				&lt;span class=&quot;c1&quot;&gt;# Write change&lt;/span&gt;
$ y				&lt;span class=&quot;c1&quot;&gt;# Accept&lt;/span&gt;
$ cryptsetup luksFormat --type luks2 /dev/nvme0n1p2	&lt;span class=&quot;c1&quot;&gt;# Create encrypted container&lt;/span&gt;
$ cryptsetup open /dev/nvme0n1p2 cryptolvm			&lt;span class=&quot;c1&quot;&gt;# Open container&lt;/span&gt;
$ pvcreate /dev/mapper/cryptolvm			&lt;span class=&quot;c1&quot;&gt;# Create physical volume&lt;/span&gt;
$ vgcreate MyVol /dev/mapper/cryptolvm			&lt;span class=&quot;c1&quot;&gt;# Create MyVol volume group&lt;/span&gt;
$ lvcreate -L 2G MyVol -n swap				&lt;span class=&quot;c1&quot;&gt;# Allocated 2GB for swap&lt;/span&gt;
$ lvcreate -l &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;%FREE MyVol -n root			&lt;span class=&quot;c1&quot;&gt;# Allocated remaining for root&lt;/span&gt;
$ mkswap /dev/mapper/MyVol-swap				&lt;span class=&quot;c1&quot;&gt;# Format swap&lt;/span&gt;
$ mkfs.ext4 /dev/mapper/MyVol-root			&lt;span class=&quot;c1&quot;&gt;# Format root&lt;/span&gt;
$ swapon /dev/mapper/MyVol-swap				&lt;span class=&quot;c1&quot;&gt;# Mount swap&lt;/span&gt;
$ mount /dev/mapper/MyVol-root /mnt			&lt;span class=&quot;c1&quot;&gt;# Mount root&lt;/span&gt;
$ mkfs.vfat -F32 /dev/nvme0n1p1				&lt;span class=&quot;c1&quot;&gt;# Format boot&lt;/span&gt;
$ mkdir	/mnt/boot					&lt;span class=&quot;c1&quot;&gt;# Create boot directory&lt;/span&gt;
$ mount /dev/nvme0n1p1 /mnt/boot			&lt;span class=&quot;c1&quot;&gt;# Mount boot&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;wireless&quot;&gt;Wireless&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ wifi-menu&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;install-base-system&quot;&gt;Install Base System&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacstrap /mnt base base-devel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;configure-system&quot;&gt;Configure System&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ genfstab -pU /mnt &amp;gt;&amp;gt; /mnt/etc/fstab	&lt;span class=&quot;c1&quot;&gt;# Generate fstab&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Edit &lt;em&gt;/mnt/etc/fstab&lt;/em&gt; and change &lt;em&gt;relatime&lt;/em&gt; to &lt;em&gt;noatime&lt;/em&gt; for non-boot partitions.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ arch-chroot /mnt			&lt;span class=&quot;c1&quot;&gt;# chroot&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Add hostname to &lt;em&gt;/etc/hostname&lt;/em&gt; and &lt;em&gt;/etc/hosts&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/etc/hosts&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;	localhost
&lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;	hostname.subdomain.domain	hostname&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Set time zone:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ ln -s /usr/share/zoneinfo/Pacific/Auckland /etc/localtime&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Uncomment the locale in &lt;em&gt;/etc/locale.gen&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ locale-gen				&lt;span class=&quot;c1&quot;&gt;# Generate locale &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Set locale preference by adding &lt;em&gt;LANG=”en_NZ.UTF-8”&lt;/em&gt; to &lt;em&gt;/etc/locale.conf&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&quot;configure-mkinitcpio&quot;&gt;Configure mkinitcpio&lt;/h4&gt;

&lt;p&gt;Add &lt;em&gt;ext4&lt;/em&gt; to MODULES&lt;/p&gt;

&lt;p&gt;Add &lt;em&gt;encrypt lvm2 resume&lt;/em&gt; hooks to &lt;em&gt;/etc/mkinitcpio.conf&lt;/em&gt; before &lt;em&gt;filesystems&lt;/em&gt;
and after &lt;em&gt;udev&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;HOOKS&lt;span class=&quot;p&quot;&gt;=(&lt;/span&gt;base udev autodetect modconf block encrypt lvm2 resume filesystems keyboard fsck&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;mkinitcpio and set root password:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ mkinitcpio -p linux
$ passwd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;install-boot-loader&quot;&gt;Install Boot Loader&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ bootctl --path&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/boot install&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Edit &lt;em&gt;/boot/loader/loader.conf&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;default arch
&lt;span class=&quot;nb&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
editor &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Edit &lt;em&gt;/boot/loader/entries/arch.conf&lt;/em&gt;&lt;br /&gt;
Use &lt;em&gt;blkid&lt;/em&gt; to find the UUID for &lt;em&gt;/dev/nvme0n1p2&lt;/em&gt; and replace the &amp;lt;UUID&amp;gt; below
without the bracket.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;title&lt;/span&gt; Arch Linux
linux /vmlinuz&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;linux
initrd /initramfs&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;linux.img
&lt;span class=&quot;k&quot;&gt;options&lt;/span&gt; cryptdevice&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;UUID&lt;span class=&quot;p&quot;&gt;=&amp;lt;&lt;/span&gt;UUID&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;:MyVol root&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/dev/&lt;/span&gt;mapper&lt;span class=&quot;sr&quot;&gt;/MyVol-root resume=/&lt;/span&gt;dev&lt;span class=&quot;sr&quot;&gt;/mapper/&lt;/span&gt;MyVol&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;swap&lt;/span&gt; rw&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;wireless-1&quot;&gt;Wireless&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S dialog wpa_supplicant&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;umount-and-reboot&quot;&gt;Umount and Reboot&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;			&lt;span class=&quot;c1&quot;&gt;# Exit from chroot environment&lt;/span&gt;
$ umount -R /mnt
$ reboot&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;create-new-user&quot;&gt;Create New User&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ useradd -m -G wheel -s /bin/bash daniel
$ passwd daniel
$ usermod -a -G audio,network,power,scanner,storage,systemd-journal,video daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The above creates a new user with home directory, change password and add user
to additional groups.&lt;/p&gt;

&lt;h4 id=&quot;wireless-2&quot;&gt;Wireless&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ wifi-menu
$ ls /etc/netctl/			&lt;span class=&quot;c1&quot;&gt;# Find the wifi profile&lt;/span&gt;
$ netctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; profile-name		&lt;span class=&quot;c1&quot;&gt;# profile-name as obtained above&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;sudo&quot;&gt;Sudo&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S sudo&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Run visudo, edit it to restrict sudo to specific group or user.&lt;/p&gt;

&lt;h4 id=&quot;additional-install&quot;&gt;Additional Install&lt;/h4&gt;

&lt;p&gt;Install &lt;em&gt;yay&lt;/em&gt; from AUR.&lt;/p&gt;

&lt;h4 id=&quot;audio&quot;&gt;Audio&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S alsa-utils
$ amixer sset Master unmute		&lt;span class=&quot;c1&quot;&gt;# ALSA comes muted by default.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;restore&quot;&gt;Restore&lt;/h4&gt;

&lt;p&gt;Restore home from backup.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S - &amp;lt; pkglist.txt	&lt;span class=&quot;c1&quot;&gt;# Install all packages from backup list&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Do the same for AUR with &lt;em&gt;yay&lt;/em&gt;.&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;extra-configuration&quot;&gt;Extra Configuration&lt;/h3&gt;

&lt;h4 id=&quot;bluetooth&quot;&gt;Bluetooth&lt;/h4&gt;

&lt;p&gt;Edit &lt;em&gt;/etc/bluetooth/main.conf&lt;/em&gt; and add the following line.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;AutoEnable&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;true&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; bluetooth.service&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Enable bluetooth service then pair devices.&lt;/p&gt;

&lt;h4 id=&quot;pulseaudio&quot;&gt;PulseAudio&lt;/h4&gt;

&lt;p&gt;Edit &lt;em&gt;/etc/pulse/system.pa&lt;/em&gt; and add the following lines.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;module module&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;bluetooth&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;policy
&lt;span class=&quot;k&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;module module&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;bluetooth&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;discover&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Edit &lt;em&gt;/etc/pulse/default.pa&lt;/em&gt; and add the following line.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;module module&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;switch&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;connect&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Run &lt;em&gt;sudo usermod -a -G lp daniel&lt;/em&gt; to add to lp group.&lt;/p&gt;

&lt;p&gt;If cookie not found then &lt;em&gt;cp ~/.pulse-cookie ~/.config/pulse/cookie&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&quot;cups&quot;&gt;CUPS&lt;/h4&gt;

&lt;p&gt;Install, enable and start CUPS&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S cups
$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; org.cups.cupsd.service
$ sudo systemctl start org.cups.cupsd.service&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Run &lt;em&gt;sudo usermod -a -G cups daniel&lt;/em&gt; to add to &lt;em&gt;cups&lt;/em&gt; group.&lt;/p&gt;

&lt;p&gt;Append &lt;em&gt;wheel&lt;/em&gt; to &lt;em&gt;SystemGroup sys root&lt;/em&gt; in &lt;em&gt;/etc/cups/cups-files.conf&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;At this point, re-logon for the permission to be effective.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ yay -S brother-mfc-l2713dw
$ yay -S brscan4&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Install printer and scanner drivers.&lt;/p&gt;

&lt;p&gt;Browse to &lt;em&gt;http://localhost:631&lt;/em&gt;, go to &lt;em&gt;Administration -&amp;gt; Add Printer&lt;/em&gt;&lt;br /&gt;
Select &lt;em&gt;LPD/LPR Host or Printer&lt;/em&gt;&lt;br /&gt;
Enter &lt;em&gt;lpd://(Your printer’s IP address)/binary_p1&lt;/em&gt;&lt;br /&gt;
Select &lt;em&gt;Brother&lt;/em&gt;&lt;br /&gt;
Select the printer driver, which should already be automatically selected. It’s
the CUPS version.&lt;br /&gt;
Name the printer.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Then go to &lt;em&gt;Printers&lt;/em&gt;, select the printer, drop down &lt;em&gt;Administration&lt;/em&gt; and select &lt;em&gt;Set
Default Options&lt;/em&gt;, set &lt;em&gt;A4&lt;/em&gt;, &lt;em&gt;Plain Paper&lt;/em&gt;, &lt;em&gt;600dpi&lt;/em&gt;, &lt;em&gt;Tray1&lt;/em&gt;, &lt;em&gt;DuplexNoTumble&lt;/em&gt;, &lt;em&gt;Toner Save
to Off&lt;/em&gt;. And again drop down &lt;em&gt;Administration&lt;/em&gt; and select &lt;em&gt;Set As Server Default&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;For scanning:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ brsaneconfig4 -a &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;name your device&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;model name&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;xx.xx.xx.xx&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Use gscan2pdf:&lt;/p&gt;

&lt;p&gt;Untick &lt;em&gt;OCR scanned pages&lt;/em&gt;&lt;br /&gt;
Select &lt;em&gt;All&lt;/em&gt; pages&lt;br /&gt;
Leave &lt;em&gt;Mode&lt;/em&gt; as default&lt;br /&gt;
Change &lt;em&gt;Geometry&lt;/em&gt; from &lt;em&gt;Manual&lt;/em&gt; to &lt;em&gt;A4&lt;/em&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;gscan2pdf will need &lt;em&gt;yay -S pdftk-bin&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Even though &lt;em&gt;org.cups.cupsd.service&lt;/em&gt; has been enabled, it won’t auto start on
boot.&lt;br /&gt;
Just do a test print, that will activate the auto start on boot.&lt;/p&gt;

&lt;h4 id=&quot;ios&quot;&gt;iOS&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ usbmuxd -f -v
$ idevice_id -l
$ ideviceinfo
$ ideviceinstaller -l
$ ifuse ~/iPhone
$ umount ~/iPhone&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;ntp&quot;&gt;NTP&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; ntpd.service&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;additional-install--configuration-for-macbook--laptop-only&quot;&gt;Additional Install / Configuration for MacBook / Laptop Only&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ yay -S powertop thermald cpupower mbpfan-git
$ powertop --calibrate
$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; powertop.service
$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; thermald.service
$ sudo systemctl mbpfan.service&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;For BCM4360 wireless network adapter, install &lt;em&gt;broadcom-wl-dkms&lt;/em&gt; and
&lt;em&gt;linux-headers&lt;/em&gt;. Then reboot before trying wifi-menu.&lt;/p&gt;

&lt;p&gt;Reference:&lt;/p&gt;
&lt;p /&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/index.php/Broadcom_wireless&quot;&gt;Broadcom wireless&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><category term="linux" /><summary type="html">Contents</summary></entry><entry><title type="html">Feb</title><link href="http://localhost:4000/log/2018/02/01/Feb.html" rel="alternate" type="text/html" title="Feb" /><published>2018-02-01T13:00:00+13:00</published><updated>2018-02-01T13:00:00+13:00</updated><id>http://localhost:4000/log/2018/02/01/Feb</id><content type="html" xml:base="http://localhost:4000/log/2018/02/01/Feb.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#icewind-1&quot;&gt;Icewind Dale Enhanced Edition&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;thu-feb-8-2018&quot;&gt;Thu, Feb 8, 2018&lt;/h3&gt;

&lt;h3 id=&quot;gogs-icewind-dale-enhanced-edition&quot;&gt;&lt;a name=&quot;icewind-1&quot;&gt;&lt;/a&gt;GOG’S ICEWIND DALE ENHANCED EDITION&lt;/h3&gt;

&lt;h4 id=&quot;media&quot;&gt;Media&lt;/h4&gt;

&lt;p&gt;Native Linux version on 
&lt;a href=&quot;https://www.gog.com/game/icewind_dale_enhanced_edition&quot;&gt;GOG&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;dependencies&quot;&gt;Dependencies&lt;/h4&gt;

&lt;p&gt;It’s a straight install but to run, it needs the following dependencies as 
listed on their site.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;libc6:i386
libasound2:i386
libasound2&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;data:i386
libasound2&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;plugins:i386
libjson&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;c2:i386
libopenal1:i386
libstdc&lt;span class=&quot;p&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;:i386
libssl1.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;:i386
libexpat1:i386
libx11&lt;span class=&quot;m&quot;&gt;-6&lt;/span&gt;:i386
libxau6:i386
libxcb1:i386
libxcursor1:i386
libxdmcp6:i386
libxext6:i386
libxfixes3:i386
libxinerama1:i386
libxrandr2:i386
libxrender1:i386
libjson0:i386&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;To install Arch’s 32-bit equivalent, start off by uncommenting the
&lt;a href=&quot;https://wiki.archlinux.org/index.php/Multilib&quot;&gt;multilib&lt;/a&gt; section in 
&lt;em&gt;/etc/pacman.conf&lt;/em&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;[multilib]
Include &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/etc/&lt;/span&gt;pacman.&lt;span class=&quot;k&quot;&gt;d&lt;/span&gt;/mirrorlist&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;pacman -Sl multilib&lt;/em&gt; to list all packages in the multilib repository.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;pacman -Sl multilib | grep&lt;/em&gt; to find the packages required.&lt;/p&gt;

&lt;p&gt;Installed files are located under &lt;em&gt;/usr/lib32/&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;The packages I’ve ended with are as follows:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;lib32-alsa-lib&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Dependencies:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;glibc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;lib32-json-glib&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Dependencies:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;gcc&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libs
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;pcre
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libffi
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;util&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;linux
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;zlib
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;glib2&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Link:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/usr/&lt;/span&gt;lib32
sudo ln &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;s libjson&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;glib&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;k&quot;&gt;so&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;400&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; libjson.&lt;span class=&quot;k&quot;&gt;so&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;lib32-openal&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;lib32-mesa&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Dependencies:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libpciaccess
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libdrm
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxdmcp
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxau
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxcb
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libx11
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxext
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxxf86vm
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxfixes
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxdamage
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxshmfence
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;lm_sensors
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;bzip2
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libelf
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;ncurses
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;llvm&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libs
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;expat
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;readline
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;icu
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxml2
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;wayland
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libglvnd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;lib32-openssl-1.0&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;lib32-sdl2&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Dependencies:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxrender&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;lib32-libpulse&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Dependencies:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;attr
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libcap
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libgpg&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;error
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libgcrypt
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;xz
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;systemd
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;dbus
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libasyncns
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxi
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libxtst
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libice
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libsm
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libogg
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;flac
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libvorbis
lib32&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;libsndfile&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;lib32-libxrandr&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;lib32-libxinerama&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;lib32-libxfixes&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;lib32-libxcursor&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;lib32-libstdc++5&lt;/em&gt;&lt;/p&gt;</content><author><name></name></author><category term="linux" /><summary type="html">Contents</summary></entry><entry><title type="html">Jan</title><link href="http://localhost:4000/log/2018/01/01/Jan.html" rel="alternate" type="text/html" title="Jan" /><published>2018-01-01T13:00:00+13:00</published><updated>2018-01-01T13:00:00+13:00</updated><id>http://localhost:4000/log/2018/01/01/Jan</id><content type="html" xml:base="http://localhost:4000/log/2018/01/01/Jan.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#arch-1&quot;&gt;Arch Installation / Encrypted Setup / Syslinux&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#fat32-1&quot;&gt;FAT32&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;wed-jan-24-2018&quot;&gt;Wed, Jan 24, 2018&lt;/h3&gt;

&lt;h3 id=&quot;arch-installation--encrypted-setup--syslinux&quot;&gt;&lt;a name=&quot;arch-1&quot;&gt;&lt;/a&gt;ARCH INSTALLATION / ENCRYPTED SETUP / Syslinux&lt;/h3&gt;

&lt;p&gt;This is &lt;a href=&quot;https://wiki.archlinux.org/index.php/Dm-crypt/Encrypting_an_entire_system#LVM_on_LUKS&quot;&gt;LVM on LUKS&lt;/a&gt; setup based on Arch’s wiki documentation.&lt;/p&gt;

&lt;h4 id=&quot;keyboard&quot;&gt;Keyboard&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ loadkeys us&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;partition&quot;&gt;Partition&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ lsblk				&lt;span class=&quot;c1&quot;&gt;# List block devices&lt;/span&gt;
$ gdisk /dev/sda		&lt;span class=&quot;c1&quot;&gt;# To partition /dev/sda&lt;/span&gt;
$ o				&lt;span class=&quot;c1&quot;&gt;# Either new or start over&lt;/span&gt;
$ y				&lt;span class=&quot;c1&quot;&gt;# Accept&lt;/span&gt;
$ n				&lt;span class=&quot;c1&quot;&gt;# Create new partition&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default partition number&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default first sector&lt;/span&gt;
$ +512M				&lt;span class=&quot;c1&quot;&gt;# Allocated 512MB for boot partition&lt;/span&gt;
$ &lt;span class=&quot;m&quot;&gt;8300&lt;/span&gt;				&lt;span class=&quot;c1&quot;&gt;# Set type of partition or L to list&lt;/span&gt;
$ n				&lt;span class=&quot;c1&quot;&gt;# Create new partition&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default partition number&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default first sector&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default last sector&lt;/span&gt;
$ 8E00				&lt;span class=&quot;c1&quot;&gt;# Set partition type to LVM&lt;/span&gt;
$ w				&lt;span class=&quot;c1&quot;&gt;# Write change&lt;/span&gt;
$ y				&lt;span class=&quot;c1&quot;&gt;# Accept&lt;/span&gt;
$ cryptsetup luksFormat --type luks2 /dev/sda2	&lt;span class=&quot;c1&quot;&gt;# Create encrypted container&lt;/span&gt;
$ cryptsetup open /dev/sda2 cryptolvm		&lt;span class=&quot;c1&quot;&gt;# Open container&lt;/span&gt;
$ pvcreate /dev/mapper/cryptolvm		&lt;span class=&quot;c1&quot;&gt;# Create physical volume&lt;/span&gt;
$ vgcreate MyVol /dev/mapper/cryptolvm		&lt;span class=&quot;c1&quot;&gt;# Create MyVol volume group&lt;/span&gt;
$ lvcreate -L 60G MyVol -n home			&lt;span class=&quot;c1&quot;&gt;# Allocated 1/5 space for home&lt;/span&gt;
$ lvcreate -L 8G MyVol -n swap			&lt;span class=&quot;c1&quot;&gt;# Allocated 2xRAM for swap&lt;/span&gt;
$ lvcreate -l &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;%FREE MyVol -n root		&lt;span class=&quot;c1&quot;&gt;# Allocated remaining for root&lt;/span&gt;
$ mkfs.ext4 /dev/mapper/MyVol-home		&lt;span class=&quot;c1&quot;&gt;# Format home&lt;/span&gt;
$ mkswap /dev/mapper/MyVol-swap			&lt;span class=&quot;c1&quot;&gt;# Format swap&lt;/span&gt;
$ mkfs.ext4 /dev/mapper/MyVol-root		&lt;span class=&quot;c1&quot;&gt;# Format root&lt;/span&gt;
$ swapon /dev/mapper/MyVol-swap			&lt;span class=&quot;c1&quot;&gt;# Mount swap&lt;/span&gt;
$ mount /dev/mapper/MyVol-root /mnt		&lt;span class=&quot;c1&quot;&gt;# Mount root&lt;/span&gt;
$ mkdir -pv /mnt/home				&lt;span class=&quot;c1&quot;&gt;# Create home directory&lt;/span&gt;
$ mount /dev/mapper/MyVol-home /mnt/home	&lt;span class=&quot;c1&quot;&gt;# Mount home&lt;/span&gt;
$ mkfs.ext2 /dev/sda1				&lt;span class=&quot;c1&quot;&gt;# Create Ext2&lt;/span&gt;
$ mkdir	/mnt/boot				&lt;span class=&quot;c1&quot;&gt;# Create boot directory&lt;/span&gt;
$ mount /dev/sda1 /mnt/boot			&lt;span class=&quot;c1&quot;&gt;# Mount boot&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;wireless&quot;&gt;Wireless&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ wifi-menu&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;install-base-system&quot;&gt;Install Base System&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacstrap /mnt base&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;configure-system&quot;&gt;Configure System&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ genfstab -p /mnt &amp;gt;&amp;gt; /mnt/etc/fstab	&lt;span class=&quot;c1&quot;&gt;# Generate fstab&lt;/span&gt;
$ arch-chroot /mnt			&lt;span class=&quot;c1&quot;&gt;# chroot&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Add hostname to &lt;em&gt;/etc/hostname&lt;/em&gt; and &lt;em&gt;/etc/hosts&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/etc/hosts&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;	localhost
&lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;	hostname.subdomain.domain	hostname&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Set time zone:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ ln -s /usr/share/zoneinfo/Pacific/Auckland /etc/localtime&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Uncomment the locale in &lt;em&gt;/etc/locale.gen&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ locale-gen				&lt;span class=&quot;c1&quot;&gt;# Generate locale &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Set locale preference by adding &lt;em&gt;LANG=”en_NZ.UTF-8”&lt;/em&gt; to &lt;em&gt;/etc/locale.conf&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&quot;configure-mkinitcpio&quot;&gt;Configure mkinitcpio&lt;/h4&gt;

&lt;p&gt;Add &lt;em&gt;keyboard, encrypt&lt;/em&gt; and &lt;em&gt;lvm2&lt;/em&gt; hooks to &lt;em&gt;/etc/mkinitcpio.conf&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;HOOKS&lt;span class=&quot;p&quot;&gt;=(&lt;/span&gt;... keyboard encrypt lvm2 fsck&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;mkinitcpio and set root password:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ mkinitcpio -p linux
$ passwd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;install-boot-loader&quot;&gt;Install Boot Loader&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S gdisk			&lt;span class=&quot;c1&quot;&gt;# Prerequisite&lt;/span&gt;
$ pacman -S syslinux
$ syslinux-install_update -i -a -m&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;/boot/syslinux/syslinux.cfg&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;LABEL arch
    MENU LABEL Arch Linux
    LINUX ../vmlinuz&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;linux
    APPEND root&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/dev/&lt;/span&gt;mapper&lt;span class=&quot;sr&quot;&gt;/MyVol-root cryptdevice=/&lt;/span&gt;dev/sda2:cryptolvm rw
    INITRD ../initramfs&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;linux.img

LABEL archfallback
    MENU LABEL Arch Linux Fallback
    LINUX ../vmlinuz&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;linux
    APPEND root&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/dev/&lt;/span&gt;mapper&lt;span class=&quot;sr&quot;&gt;/MyVol-root cryptdevice=/&lt;/span&gt;dev/sda2:cryptolvm rw
    INITRD ../initramfs&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;linux&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;fallback.img&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;/etc/crypttab&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Append line:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;cryptolvm	&lt;span class=&quot;sr&quot;&gt;/dev/&lt;/span&gt;sda2&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Create &lt;em&gt;crypttab.initramfs&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ cp /etc/crypttab /etc/crypttab.initramfs&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;wireless-1&quot;&gt;Wireless&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S dialog wpa_supplicant&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;umount-and-reboot&quot;&gt;Umount and Reboot&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;			&lt;span class=&quot;c1&quot;&gt;# Exit from chroot environment&lt;/span&gt;
$ umount -R /mnt
$ reboot&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;create-new-user&quot;&gt;Create New User&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ useradd -m -G wheel -s /bin/bash daniel
$ passwd daniel
$ usermod -a -G audio,network,power,scanner,storage,systemd-journal,video daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The above creates a new user with home directory, change password and add user
to additional groups.&lt;/p&gt;

&lt;h4 id=&quot;wireless-2&quot;&gt;Wireless&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ wifi-menu
$ ls /etc/netctl/			&lt;span class=&quot;c1&quot;&gt;# Find the wifi profile&lt;/span&gt;
$ netctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; profile-name		&lt;span class=&quot;c1&quot;&gt;# profile-name as obtained above&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;sudo&quot;&gt;Sudo&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S sudo&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Run visudo, edit it to restrict sudo to specific group or user.&lt;/p&gt;

&lt;h4 id=&quot;additional-install&quot;&gt;Additional Install&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S openssh
$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; sshd.service
$ sudo pacman -S --needed base-devel
$ wget -c https://aur.archlinux.org/cgit/aur.git/snapshot/cower.tar.gz
$ tar xzvf cower.tar.gz
$ &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; cower
$ makepkg -s
$ sudo pacman -U cower-&amp;lt;version&amp;gt;.pkg.tar.xz
$ wget -c https://aur.archlinux.org/cgit/aur.git/snapshot/pacaur.tar.gz
$ tar xzvf pacaur.tar.gz
$ &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; pacaur
$ makepkg -s
$ sudo pacman -U pacaur-&amp;lt;version&amp;gt;.pkg.tar.xz&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;audio&quot;&gt;Audio&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S alsa-utils
$ amixer sset Master unmute		&lt;span class=&quot;c1&quot;&gt;# ALSA comes muted by default.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;restore&quot;&gt;Restore&lt;/h4&gt;

&lt;p&gt;Restore home from backup.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S - &amp;lt; pkglist.txt	&lt;span class=&quot;c1&quot;&gt;# Install all packages from backup list&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Do the same for AUR with pacaur.&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;fri-jan-26-2018&quot;&gt;Fri, Jan 26, 2018&lt;/h3&gt;

&lt;h3 id=&quot;fat32&quot;&gt;&lt;a name=&quot;fat32-1&quot;&gt;&lt;/a&gt;FAT32&lt;/h3&gt;

&lt;p&gt;gparted or via command line.&lt;/p&gt;

&lt;p&gt;Either way, install dosfstools.&lt;br /&gt;
I’m using FAT32 (LBA), which is also the factory default for USB stick.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ lsblk
$ sudo fdisk /dev/sdb
$ o
$ n
$ p
$ Enter
$ Enter
$ Enter
$ t
$ c
$ w
$ sudo mkfs.vfat /dev/sdb1 -n DN-U-001
$ sudo mount -o &lt;span class=&quot;nv&quot;&gt;gid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;storage,fmask&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;113&lt;/span&gt;,dmask&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;002&lt;/span&gt; /dev/sdb1 /mnt/usbstick
$ sudo umount /mnt/usbstick&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Alternatively:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo mount -o &lt;span class=&quot;nv&quot;&gt;uid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;daniel /dev/sdb1 /mnt/usbstick&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;References:&lt;/p&gt;
&lt;p /&gt;

&lt;p&gt;&lt;a href=&quot;http://www.dewassoc.com/kbase/hard_drives/lba.htm&quot;&gt;LBA&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://wiki.archlinux.org/index.php/USB_storage_devices#Mounting_USB_memory&quot;&gt;Mounting USB stick with write access&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><category term="linux" /><summary type="html">Contents</summary></entry><entry><title type="html">Feb</title><link href="http://localhost:4000/log/2017/02/01/Feb.html" rel="alternate" type="text/html" title="Feb" /><published>2017-02-01T13:00:00+13:00</published><updated>2017-02-01T13:00:00+13:00</updated><id>http://localhost:4000/log/2017/02/01/Feb</id><content type="html" xml:base="http://localhost:4000/log/2017/02/01/Feb.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#raspberry-1&quot;&gt;Raspberry Pi&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;fri-feb-02-2017&quot;&gt;Fri, Feb 02, 2017&lt;/h3&gt;

&lt;h3 id=&quot;raspberry-pi&quot;&gt;&lt;a name=&quot;raspberry-1&quot;&gt;&lt;/a&gt;RASPBERRY PI&lt;/h3&gt;

&lt;h4 id=&quot;backup&quot;&gt;Backup&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo dd &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4M &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/sde &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;raspbian.img    &lt;span class=&quot;c1&quot;&gt;# backup&lt;/span&gt;
$ sudo dd &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4M &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;raspbian.img &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/sde    &lt;span class=&quot;c1&quot;&gt;# restore&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo dd &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4M &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/sde &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; gzip &amp;gt; rasbian.img.gz             &lt;span class=&quot;c1&quot;&gt;# backup&lt;/span&gt;
$ gunzip --stdout rasbian.img.gz &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; sudo dd &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4M &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/sde    &lt;span class=&quot;c1&quot;&gt;# restore&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Reference:
&lt;a href=&quot;https://www.raspberrypi.org/documentation/linux/filesystem/backup.md&quot;&gt;Backups&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;media&quot;&gt;Media&lt;/h4&gt;

&lt;p&gt;ISO available via Arch 
&lt;a href=&quot;http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-2-latest.tar.gz&quot;&gt;download&lt;/a&gt; 
page.&lt;/p&gt;

&lt;h4 id=&quot;installation&quot;&gt;Installation&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ fdisk /dev/sde
$ o                      &lt;span class=&quot;c1&quot;&gt;# Clear out any partitions on the drive&lt;/span&gt;
$ p                      &lt;span class=&quot;c1&quot;&gt;# List partitions&lt;/span&gt;
$ n                      &lt;span class=&quot;c1&quot;&gt;# New partition&lt;/span&gt;
$ p                      &lt;span class=&quot;c1&quot;&gt;# Primary&lt;/span&gt;
$ &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;                      &lt;span class=&quot;c1&quot;&gt;# First partition on drive&lt;/span&gt;
$ Enter                  &lt;span class=&quot;c1&quot;&gt;# Accept default first sector&lt;/span&gt;
$ +100M                  &lt;span class=&quot;c1&quot;&gt;# 100MB for boot partition&lt;/span&gt;
$ t                      &lt;span class=&quot;c1&quot;&gt;# Partition type&lt;/span&gt;
$ c                      &lt;span class=&quot;c1&quot;&gt;# Set partition type to W95 FAT32 (LBA)&lt;/span&gt;
$ n                      &lt;span class=&quot;c1&quot;&gt;# New partition&lt;/span&gt;
$ p                      &lt;span class=&quot;c1&quot;&gt;# Primary&lt;/span&gt;
$ &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;                      &lt;span class=&quot;c1&quot;&gt;# Second partition on drive&lt;/span&gt;
$ Enter                  &lt;span class=&quot;c1&quot;&gt;# Accept default first sector&lt;/span&gt;
$ Enter                  &lt;span class=&quot;c1&quot;&gt;# Accept default last sector&lt;/span&gt;
$ mkfs.vfat /dev/sde1    &lt;span class=&quot;c1&quot;&gt;# Create and mount the FAT filesystem&lt;/span&gt;
$ mkdir boot
$ mount /dev/sde1 boot
$ mkfs.ext4 /dev/sde2    &lt;span class=&quot;c1&quot;&gt;# Create and mount the ext4 filesystem&lt;/span&gt;
$ mkdir root
$ mount /dev/sde2 root
$ wget http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-2-latest.tar.gz
$ bsdtar -xpf ArchLinuxARM-rpi-2-latest.tar.gz -C root
$ sync
$ mv root/boot/* boot    &lt;span class=&quot;c1&quot;&gt;# Move boot files to the first partition&lt;/span&gt;
$ umount boot root       &lt;span class=&quot;c1&quot;&gt;# Unmount the two partitions&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;default&quot;&gt;Default&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;user: alarm
password: alarm

user: root
password: root&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Reference: &lt;a href=&quot;https://goo.gl/63Gkry&quot;&gt;ARMv7 Installation&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;wireless&quot;&gt;Wireless&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S dialog wpa_supplicant
$ wifi-menu
$ ls /etc/netctl/               &lt;span class=&quot;c1&quot;&gt;# Find the wifi profile&lt;/span&gt;
$ netctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; profile-name    &lt;span class=&quot;c1&quot;&gt;# Substitute profile-name as obtained above&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;create-new-user&quot;&gt;Create New User&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ useradd -m -G wheel -s /bin/bash daniel
$ passwd daniel
$ usermod -a -G audio,network,power,scanner,storage,systemd-journal,video daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The above creates a new user with home directory, change password and add user
to additional groups.&lt;/p&gt;

&lt;h4 id=&quot;sudo&quot;&gt;Sudo&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S sudo&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Run visudo, edit it to restrict sudo to specific group or user.&lt;/p&gt;

&lt;h4 id=&quot;update&quot;&gt;Update&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -Syu
$ sudo pacman -Syy              &lt;span class=&quot;c1&quot;&gt;# If above failed&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;xfce&quot;&gt;Xfce&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S xfce4
$ sudo pacman -S xorg-server xorg-server-utils xorg-xinit
$ sudo pacman -S xf86-video-fbdev
$ startxfce4                    &lt;span class=&quot;c1&quot;&gt;# NOTE: To manually start Xfce&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;Updated&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;xorg-server-utils has been replaced by xorg-apps&lt;/p&gt;

&lt;h4 id=&quot;additional-install&quot;&gt;Additional Install&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S openssh
$ sudo pacman -S vim
$ sudo pacman -S tigervnc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Apply dotfiles.&lt;/p&gt;

&lt;h4 id=&quot;vnc-setup&quot;&gt;VNC Setup&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ vncserver                     &lt;span class=&quot;c1&quot;&gt;# Create configs&lt;/span&gt;
$ vncserver -kill :1            &lt;span class=&quot;c1&quot;&gt;# NOTE: To shutdown vncserver&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;~/.vnc/xstartup&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;#&lt;span class=&quot;p&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/bin/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sh&lt;/span&gt;

exec &lt;span class=&quot;sr&quot;&gt;/bin/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/etc/&lt;/span&gt;xdg&lt;span class=&quot;sr&quot;&gt;/xfce4/&lt;/span&gt;xinitrc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;/etc/systemd/system/vncserver@:1.service&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;[Unit]
Description&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;Remote desktop service &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;VNC&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
After&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;syslog.target network.target

[Service]
Type&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;simple
&lt;span class=&quot;nb&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;daniel
PAMName&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;login
PIDFile&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/home/&lt;/span&gt;daniel&lt;span class=&quot;sr&quot;&gt;/.vnc/&lt;/span&gt;%H:%&lt;span class=&quot;k&quot;&gt;i&lt;/span&gt;.pid
ExecStartPre&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/bin/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;/usr/bin/vncserver -kill %i &amp;gt; /dev/null 2&amp;gt;&amp;amp;1 || :&amp;#39;&lt;/span&gt;
ExecStart&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/usr/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;/vncserver &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;geometry &lt;span class=&quot;m&quot;&gt;1280&lt;/span&gt;x&lt;span class=&quot;m&quot;&gt;720&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;alwaysshared &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;fg %&lt;span class=&quot;k&quot;&gt;i&lt;/span&gt;
ExecStop&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/usr/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;/vncserver &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;kill %&lt;span class=&quot;k&quot;&gt;i&lt;/span&gt;

[Install]
WantedBy&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;multi&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;user.target&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Enable &lt;em&gt;vncserver@:1.service&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; vncserver@:1.service&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;vnc-client&quot;&gt;VNC Client&lt;/h4&gt;

&lt;p&gt;Use &lt;a href=&quot;http://www.tightvnc.com/download.php&quot;&gt;TightVNC&lt;/a&gt;&lt;br /&gt;
Port: 5901&lt;/p&gt;

&lt;h4 id=&quot;mount-usb-drive&quot;&gt;Mount USB Drive&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo mount /dev/sda1 /mnt/usb -o &lt;span class=&quot;nv&quot;&gt;uid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;,gid&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;,utf8,dmask&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;027&lt;/span&gt;,fmask&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;137&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;sshfs&quot;&gt;sshfs&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ brew cask install osxfuse
$ brew install sshfs&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><category term="linux" /><summary type="html">Contents</summary></entry><entry><title type="html">May</title><link href="http://localhost:4000/log/2016/05/01/May.html" rel="alternate" type="text/html" title="May" /><published>2016-05-01T12:00:00+12:00</published><updated>2016-05-01T12:00:00+12:00</updated><id>http://localhost:4000/log/2016/05/01/May</id><content type="html" xml:base="http://localhost:4000/log/2016/05/01/May.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#plex-1&quot;&gt;Plex&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;sat-may-14-2016&quot;&gt;Sat, May 14, 2016&lt;/h3&gt;

&lt;h3 id=&quot;plex&quot;&gt;&lt;a name=&quot;plex-1&quot;&gt;&lt;/a&gt;PLEX&lt;/h3&gt;

&lt;h4 id=&quot;plex-media-server&quot;&gt;Plex Media Server&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;https://aur.archlinux.org/packages/prelink/&quot;&gt;prelink&lt;/a&gt; from AUR.&lt;br /&gt;
&lt;a href=&quot;https://aur.archlinux.org/packages/plex-media-server/&quot;&gt;plex-media-server&lt;/a&gt;
from AUR.&lt;/p&gt;

&lt;h4 id=&quot;configuration&quot;&gt;Configuration&lt;/h4&gt;

&lt;p&gt;Set a maximum amount of memory:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/lib/systemd/system/plexmediaserver.service&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;MemoryLimit&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;G&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;iptables&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ iptables -A INPUT -p tcp -m multiport --dports &lt;span class=&quot;m&quot;&gt;32400&lt;/span&gt;,32469 -j ACCEPT
$ iptables -A INPUT -p udp -m multiport --dports &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&amp;gt; &lt;span class=&quot;m&quot;&gt;1900&lt;/span&gt;,32410,32412,32413,32414 -j ACCEPT
$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; plexmediaserver.service&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;storage&quot;&gt;Storage&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo mkdir /shares
$ df -h
$ sudo blkid /dev/sdb1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;/etc/fstab&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;# UUID&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;f&lt;span class=&quot;m&quot;&gt;22599&lt;/span&gt;a&lt;span class=&quot;m&quot;&gt;-6&lt;/span&gt;b&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;f&lt;span class=&quot;m&quot;&gt;-4&lt;/span&gt;b&lt;span class=&quot;m&quot;&gt;90-81&lt;/span&gt;b&lt;span class=&quot;m&quot;&gt;0-4&lt;/span&gt;c&lt;span class=&quot;m&quot;&gt;471&lt;/span&gt;f&lt;span class=&quot;m&quot;&gt;761&lt;/span&gt;f&lt;span class=&quot;m&quot;&gt;47&lt;/span&gt;
&lt;span class=&quot;sr&quot;&gt;/dev/&lt;/span&gt;sdb1    /shares    ext4    rw&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;relatime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;ordered    &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Reboot&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /shares
$ mkdir plex
$ sudo chgrp plex plex
$ sudo chmod g+w,o-rx plex
$ sudo usermod -a -G plex daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Reference: &lt;a href=&quot;https://wiki.archlinux.org/index.php/Plex&quot;&gt;Plex&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><category term="linux" /><summary type="html">Contents</summary></entry><entry><title type="html">Nov</title><link href="http://localhost:4000/log/2015/11/01/Nov.html" rel="alternate" type="text/html" title="Nov" /><published>2015-11-01T13:00:00+13:00</published><updated>2015-11-01T13:00:00+13:00</updated><id>http://localhost:4000/log/2015/11/01/Nov</id><content type="html" xml:base="http://localhost:4000/log/2015/11/01/Nov.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#octopress-1&quot;&gt;Octopress&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#i3-1&quot;&gt;i3&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;mon-nov-02-2015&quot;&gt;Mon, Nov 02, 2015&lt;/h3&gt;

&lt;h3 id=&quot;octopress&quot;&gt;&lt;a name=&quot;octopress-1&quot;&gt;&lt;/a&gt;OCTOPRESS&lt;/h3&gt;

&lt;p&gt;General maintenance related tasks:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ rvm get stable                 &lt;span class=&quot;c1&quot;&gt;# RVM&lt;/span&gt;
$ rvm install &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;.2.3              &lt;span class=&quot;c1&quot;&gt;# Ruby&lt;/span&gt;
$ rvm --default use &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;.2.3        &lt;span class=&quot;c1&quot;&gt;# Set default version&lt;/span&gt;
$ rvm rubygems latest            &lt;span class=&quot;c1&quot;&gt;# RubyGems&lt;/span&gt;
$ gem install bundler            &lt;span class=&quot;c1&quot;&gt;# Dependencies&lt;/span&gt;
$ bundle install                 &lt;span class=&quot;c1&quot;&gt;# Run within blog directory&lt;/span&gt;
$ rvm -v                         &lt;span class=&quot;c1&quot;&gt;# Check versions&lt;/span&gt;
$ ruby -v
$ which ruby
$ gem -v
$ which gem&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Arch uses Python version 3, whereas Octopress requires verions 2. Edit the 
first line of mentos.py to the following instead:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;~/.rvm/gems/ruby-2.2.3/gems/pygments.rb-0.3.4/lib/pygments/mentos.py&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;#&lt;span class=&quot;p&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/usr/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;/env python2&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Migrating to another computer:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl -L https://get.rvm.io &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; bash -s stable --ruby&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Then do the upgrades as listed above.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ git clone -b &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; git@github.com:username/username.github.io.git
$ &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; username.github.io.git
$ git clone git@github.com:username/username.github.io.git _deploy&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Install the dependencies as listed above.&lt;/p&gt;

&lt;p&gt;To maintain the blog on multiple computers:&lt;/p&gt;

&lt;p&gt;Push on one:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ rake generate
$ rake deploy
$ git add .
$ git commit -a
$ git push origin &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Pull on the other:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ git pull origin &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt;
$ &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ./_deploy
$ git pull origin master&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;i3&quot;&gt;&lt;a name=&quot;i3-1&quot;&gt;&lt;/a&gt;I3&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S i3
$ sudo pacman -S dmenu
$ sudo pacman -S feh                     &lt;span class=&quot;c1&quot;&gt;# for wallpaper&lt;/span&gt;
$ sudo pacman -S scrot                   &lt;span class=&quot;c1&quot;&gt;# for screenshot&lt;/span&gt;
$ sudo pacman -S mplayer
$ sudo pacman -S archey3
$ sudo pacman -S cmus
$ sudo pacman -S gpicview
$ sudo pacman -S firefox                 &lt;span class=&quot;c1&quot;&gt;# optional&lt;/span&gt;
$ sudo pacman -S dnsutils
$ sudo pacman -S whois
$ sudo pacman -S imagemagick
$ sudo pacman -S easytag
$ sudo pacman -S rdesktop freerdp        &lt;span class=&quot;c1&quot;&gt;# optional&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;~/.config/i3/config&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;# Pulse Audio controls
bindsym XF86AudioRaiseVolume exec &lt;span class=&quot;p&quot;&gt;--&lt;/span&gt;no&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;startup&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;id pactl &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;sink&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;volume &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;% #increase sound volume
bindsym XF86AudioLowerVolume exec &lt;span class=&quot;p&quot;&gt;--&lt;/span&gt;no&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;startup&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;id pactl &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;sink&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;volume &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-5&lt;/span&gt;% #decrease sound volume
bindsym XF86AudioMute exec &lt;span class=&quot;p&quot;&gt;--&lt;/span&gt;no&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;startup&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;id pactl &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;sink&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;mute &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; toggle #mute sound

# pause &lt;span class=&quot;sr&quot;&gt;/ play /&lt;/span&gt; next / &lt;span class=&quot;k&quot;&gt;previous&lt;/span&gt;
bindsym XF86AudioPlay exec cmus&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;remote &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;C &lt;span class=&quot;s2&quot;&gt;&amp;quot;player-pause&amp;quot;&lt;/span&gt;
bindsym XF86AudioNext exec cmus&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;remote &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;n&lt;/span&gt;
bindsym XF86AudioPrev exec cmus&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;remote &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;r&lt;/span&gt;

# Sreen brightness controls
bindsym XF86MonBrightnessUp exec xbacklight &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;inc&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt; #increase screen brightness
bindsym XF86MonBrightnessDown exec xbacklight &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;dec &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt; #decrease screen brightness

exec &lt;span class=&quot;p&quot;&gt;--&lt;/span&gt;no&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;startup&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;id feh &lt;span class=&quot;p&quot;&gt;--&lt;/span&gt;recursive &lt;span class=&quot;p&quot;&gt;--&lt;/span&gt;randomize &lt;span class=&quot;p&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;center&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/Pictures/&lt;/span&gt;wallpaper&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Optional: &lt;a href=&quot;https://aur.archlinux.org/packages/jre7/&quot;&gt;JRE&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Run &lt;em&gt;/usr/lib/jvm/java-7-jre/jre/bin/ControlPanel&lt;/em&gt; to configure.&lt;/p&gt;</content><author><name></name></author><category term="linux" /><summary type="html">Contents</summary></entry><entry><title type="html">Mar</title><link href="http://localhost:4000/log/2015/03/01/Mar.html" rel="alternate" type="text/html" title="Mar" /><published>2015-03-01T13:00:00+13:00</published><updated>2015-03-01T13:00:00+13:00</updated><id>http://localhost:4000/log/2015/03/01/Mar</id><content type="html" xml:base="http://localhost:4000/log/2015/03/01/Mar.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#backup-1&quot;&gt;Backup and Restore&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;sun-mar-15-2015&quot;&gt;Sun, Mar 15, 2015&lt;/h3&gt;

&lt;h3 id=&quot;backup-and-restore&quot;&gt;&lt;a name=&quot;backup-1&quot;&gt;&lt;/a&gt;BACKUP AND RESTORE&lt;/h3&gt;

&lt;p&gt;I’m currently using Partclone for backing up and restoring Arch. That’s
essentially done by booting up Clonezilla ISO available via 
&lt;a href=&quot;http://clonezilla.org/downloads.php&quot;&gt;download&lt;/a&gt; page.&lt;/p&gt;

&lt;p&gt;Follow through the wizard to mount external drive and then use the Partclone 
commands off Arch
&lt;a href=&quot;https://wiki.archlinux.org/index.php/Partclone&quot;&gt;wiki&lt;/a&gt; page with sudo.&lt;/p&gt;

&lt;p&gt;Alternatively, a better option is to clone the entire drive 
(&lt;a href=&quot;http://goo.gl/L5pgF9&quot;&gt;save disk image&lt;/a&gt;) for backup. Then restore it with 
&lt;a href=&quot;http://goo.gl/bRLzfJ&quot;&gt;“restore disk image”&lt;/a&gt;.&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;</content><author><name></name></author><category term="linux" /><summary type="html">Contents</summary></entry><entry><title type="html">May</title><link href="http://localhost:4000/log/2014/05/01/May.html" rel="alternate" type="text/html" title="May" /><published>2014-05-01T12:00:00+12:00</published><updated>2014-05-01T12:00:00+12:00</updated><id>http://localhost:4000/log/2014/05/01/May</id><content type="html" xml:base="http://localhost:4000/log/2014/05/01/May.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#external-1&quot;&gt;External Monitor&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#osx-1&quot;&gt;OS X Installation&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;sun-may-18-2014&quot;&gt;Sun, May 18, 2014&lt;/h3&gt;

&lt;h3 id=&quot;external-monitor&quot;&gt;&lt;a name=&quot;external-1&quot;&gt;&lt;/a&gt;EXTERNAL MONITOR&lt;/h3&gt;

&lt;h4 id=&quot;resolution&quot;&gt;Resolution&lt;/h4&gt;

&lt;p&gt;Workaround for undetected resolutions:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ nvidia-xconfig                &lt;span class=&quot;c1&quot;&gt;# Create xorg.conf based on detected hardware&lt;/span&gt;
$ sudo vim /etc/X11/xorg.conf&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Amend Monitor section of xorg.conf with the correct specifications. In my case,
the &lt;em&gt;HorizSync&lt;/em&gt; and &lt;em&gt;VertRefresh&lt;/em&gt; values were incorrect.&lt;/p&gt;

&lt;p&gt;Reboot, then check display for native resolution.&lt;/p&gt;

&lt;p&gt;If it’s not listed, run the following to get its modeline details.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ cvt &lt;span class=&quot;m&quot;&gt;1680&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1050&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# 1680x1050 59.95 Hz (CVT 1.76MA) hsync: 65.29 kHz; pclk: 146.25 MHz&lt;/span&gt;
Modeline &lt;span class=&quot;s2&quot;&gt;&amp;quot;1680x1050_60.00&amp;quot;&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;146&lt;/span&gt;.25  &lt;span class=&quot;m&quot;&gt;1680&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1784&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1960&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2240&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;1050&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1053&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1059&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1089&lt;/span&gt;
-hsync +vsync&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Add the modeline values to xorg.conf&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/etc/X11/xorg.conf&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;Section &lt;span class=&quot;s2&quot;&gt;&amp;quot;Monitor&amp;quot;&lt;/span&gt;
    Identifier     &lt;span class=&quot;s2&quot;&gt;&amp;quot;Monitor0&amp;quot;&lt;/span&gt;
    VendorName     &lt;span class=&quot;s2&quot;&gt;&amp;quot;Samsung&amp;quot;&lt;/span&gt;
    ModelName      &lt;span class=&quot;s2&quot;&gt;&amp;quot;SyncMaster 2253BW&amp;quot;&lt;/span&gt;
    HorizSync       &lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;81&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
    VertRefresh     &lt;span class=&quot;m&quot;&gt;56&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;75&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
    Option         &lt;span class=&quot;s2&quot;&gt;&amp;quot;DPMS&amp;quot;&lt;/span&gt;
    Modeline       &lt;span class=&quot;s2&quot;&gt;&amp;quot;1680x1050_60.00&amp;quot;&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;146&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;25&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;1680&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1784&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1960&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2240&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;1050&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1053&lt;/span&gt;
                    &lt;span class=&quot;m&quot;&gt;1059&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1089&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;hsync &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt;vsync
EndSection&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Reboot, the native resolution should now be listed.&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;mon-may-19-2014&quot;&gt;Mon, May 19, 2014&lt;/h3&gt;

&lt;h3 id=&quot;os-x-installation&quot;&gt;&lt;a name=&quot;osx-1&quot;&gt;&lt;/a&gt;OS X INSTALLATION&lt;/h3&gt;

&lt;h4 id=&quot;media&quot;&gt;Media&lt;/h4&gt;

&lt;p&gt;Obtainable from Applications prior to installation when downloaded from App
Store.&lt;/p&gt;

&lt;p&gt;To create bootable USB flash drive:&amp;lt;/br&amp;gt;
Open Disk Utility, select the drive.&amp;lt;/br&amp;gt;
Choose Partition tab, select 1 Partition from Partition Layout.&amp;lt;/br&amp;gt;
Click Options, choose GUID Partition Table, then OK and Apply.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo Install&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;OS&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;X&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;Mavericks.app/Contents/Resources/createinstallmedia &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
--volume /Volumes/untitled --applicationpath Install&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;OS&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;X&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;Mavericks.app &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
--nointeraction&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;installation&quot;&gt;Installation&lt;/h4&gt;

&lt;p&gt;Reboot while holding down the option key.&amp;lt;/br&amp;gt;
Select the USB flash drive.&amp;lt;/br&amp;gt;
For clean install, select Disk Utility. Erase the / partition.&amp;lt;/br&amp;gt;
After that, select Reinstall OS X.&lt;/p&gt;</content><author><name></name></author><category term="linux" /><category term="mac" /><summary type="html">Contents</summary></entry><entry><title type="html">Apr</title><link href="http://localhost:4000/log/2014/04/01/Apr.html" rel="alternate" type="text/html" title="Apr" /><published>2014-04-01T13:00:00+13:00</published><updated>2014-04-01T13:00:00+13:00</updated><id>http://localhost:4000/log/2014/04/01/Apr</id><content type="html" xml:base="http://localhost:4000/log/2014/04/01/Apr.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#arch-1&quot;&gt;Arch Installation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#arch-2&quot;&gt;Arch Customisation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#dotfiles-1&quot;&gt;Dotfiles&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#email-1&quot;&gt;Email Setup&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#server-1&quot;&gt;Server Installation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#samba-1&quot;&gt;Samba Setup&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#dlna-1&quot;&gt;DLNA&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;sun-apr-20-2014&quot;&gt;Sun, Apr 20, 2014&lt;/h3&gt;

&lt;h3 id=&quot;arch-installation--setup&quot;&gt;&lt;a name=&quot;arch-1&quot;&gt;&lt;/a&gt;ARCH INSTALLATION / SETUP&lt;/h3&gt;

&lt;h4 id=&quot;media&quot;&gt;Media&lt;/h4&gt;

&lt;p&gt;ISO available via Arch &lt;a href=&quot;https://www.archlinux.org/download/&quot;&gt;download&lt;/a&gt; page.&lt;/p&gt;

&lt;p&gt;Installation Guide available there as well or as text file after booting up the 
ISO.&lt;/p&gt;

&lt;h4 id=&quot;keyboard&quot;&gt;Keyboard&lt;/h4&gt;

&lt;p&gt;I found this optional but for completeness:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ loadkeys us&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;partition&quot;&gt;Partition&lt;/h4&gt;

&lt;p&gt;I opted for simpler partitioning, keeping my home directory separate.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ fdisk -l			&lt;span class=&quot;c1&quot;&gt;# List parition tables&lt;/span&gt;
$ gdisk /dev/sda		&lt;span class=&quot;c1&quot;&gt;# To partition /dev/sda&lt;/span&gt;
$ o				&lt;span class=&quot;c1&quot;&gt;# Either new or start over&lt;/span&gt;
$ y				&lt;span class=&quot;c1&quot;&gt;# Accept&lt;/span&gt;
$ n				&lt;span class=&quot;c1&quot;&gt;# Create new partition&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default partition number&lt;/span&gt;
$ Enter				&lt;span class=&quot;c1&quot;&gt;# Accept default first sector&lt;/span&gt;
$ +100G				&lt;span class=&quot;c1&quot;&gt;# Allocated 100GB for home partition&lt;/span&gt;
$ &lt;span class=&quot;m&quot;&gt;8302&lt;/span&gt;				&lt;span class=&quot;c1&quot;&gt;# Set type of partition or L to list&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Similarly, repeat 5 to 8 to create the rest of the partitions. In my case, I’ve
created /dev/sda2 for swap with 8200 and /dev/sda3 for / with 8300 using the
remaining available.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ w				&lt;span class=&quot;c1&quot;&gt;# Write changes&lt;/span&gt;
$ y				&lt;span class=&quot;c1&quot;&gt;# Accept&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Alternatively, use cgdisk or cfdisk if dual boot with Windows.&lt;/p&gt;

&lt;h4 id=&quot;format&quot;&gt;Format&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ mkfs.ext4 /dev/sda1		&lt;span class=&quot;c1&quot;&gt;# Format home partition&lt;/span&gt;
$ mkswap /dev/sda2		&lt;span class=&quot;c1&quot;&gt;# Format swap partition&lt;/span&gt;
$ mkfs.ext4 /dev/sda3		&lt;span class=&quot;c1&quot;&gt;# Format / partition&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;mount&quot;&gt;Mount&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ swapon /dev/sda2
$ mount /dev/sda3 /mnt
$ mkdir -pv /mnt/home
$ mount /dev/sda1 /mnt/home&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;wireless&quot;&gt;Wireless&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ wifi-menu&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;install-base-system&quot;&gt;Install Base System&lt;/h4&gt;

&lt;p&gt;Edit /etc/pacman.d/mirrorlist so that the preferred mirror is on top of the 
list.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacstrap /mnt base&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;configure-system&quot;&gt;Configure System&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ genfstab -p /mnt &amp;gt;&amp;gt; /mnt/etc/fstab	&lt;span class=&quot;c1&quot;&gt;# Generate fstab&lt;/span&gt;
$ arch-chroot /mnt			&lt;span class=&quot;c1&quot;&gt;# chroot&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Add hostname to &lt;em&gt;/etc/hostname&lt;/em&gt; and &lt;em&gt;/etc/hosts&lt;/em&gt;. For &lt;em&gt;/etc/hosts&lt;/em&gt;, append it to the 
127.0.0.1 line.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ ln -s /usr/share/zoneinfo/Pacific/Auckland /etc/localtime&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Uncomment the locale in &lt;em&gt;/etc/locale.gen&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ locale-gen				&lt;span class=&quot;c1&quot;&gt;# Generate locale &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Set locale preference by adding &lt;em&gt;LANG=”en_NZ.UTF-8”&lt;/em&gt; to &lt;em&gt;/etc/locale.conf&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ mkinitcpio -p linux			&lt;span class=&quot;c1&quot;&gt;# Create RAM disk&lt;/span&gt;
$ passwd				&lt;span class=&quot;c1&quot;&gt;# Set root password&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;install-boot-loader&quot;&gt;Install Boot Loader&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S gdisk			&lt;span class=&quot;c1&quot;&gt;# Prerequisite&lt;/span&gt;
$ pacman -S syslinux
$ syslinux-install_update -i -a -m&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Or&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S intel-ucode				&lt;span class=&quot;c1&quot;&gt;# If it&amp;#39;s an Intel CPU&lt;/span&gt;
$ pacman -S grub os-prober
$ grub-install --recheck /dev/sda		&lt;span class=&quot;c1&quot;&gt;# Install bootloader&lt;/span&gt;
$ grub-mkconfig -o /boot/grub/grub.cfg		&lt;span class=&quot;c1&quot;&gt;# Generate grub.cfg&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Grub is for MBR only.&lt;/p&gt;

&lt;h4 id=&quot;additional-install&quot;&gt;Additional Install&lt;/h4&gt;

&lt;p&gt;Wireless connection will be setup within Gnome later so in the interim, install
the following to continue using wifi-menu after booting in to the new system.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S dialog wpa_supplicant		&lt;span class=&quot;c1&quot;&gt;# Required by wifi-menu&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;umount-and-reboot&quot;&gt;Umount and Reboot&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;						&lt;span class=&quot;c1&quot;&gt;# Exit from chroot environment&lt;/span&gt;
$ umount -R /mnt
$ reboot&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;create-new-user&quot;&gt;Create New User&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ useradd -m -G wheel -s /bin/bash daniel
$ passwd daniel
$ usermod -a -G audio,network,power,scanner,storage,systemd-journal,video daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The above creates a new user with home directory, change password and add user
to additional groups.&lt;/p&gt;

&lt;h4 id=&quot;sudo&quot;&gt;Sudo&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -S sudo&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Run visudo, edit it to restrict sudo to specific group or user.&lt;/p&gt;

&lt;h4 id=&quot;gnome&quot;&gt;Gnome&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S gnome&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;For Nvidia GPU, choose nvidia-libgl when prompted. After that install the nvidia
package as well.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S nvidia
$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; gdm&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Updated:&lt;/p&gt;

&lt;p&gt;Since Gnome 3.14 update, I’ve replaced  Nvidia proprietary driver with Nouveau open source driver for NVIDIA graphic cards instead due to compatibility issues.&lt;/p&gt;

&lt;p&gt;Boot up Arch ISO then chroot to carry out the following:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ pacman -Rdds nvidia nvidia-utils nvidia-libgl libvdpau libcl
$ rm /etc/X11/xorg.conf
$ pacman -Rdds xf86-input-evdev
$ pacman -S xorg-server mesa
$ pacman -S xf86-video-nouveau
$ pacman -S mesa-libgl&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;touchpad&quot;&gt;Touchpad&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S xf86-input-synaptics&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Launch dconf editor, edit org.gnome.settings-daemon.peripherals.touchpad:&lt;br /&gt;
Set scroll-method to edge-scrolling.&lt;/p&gt;

&lt;h4 id=&quot;wireless-network&quot;&gt;Wireless Network&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S wireless_tools
$ sudo pacman -S networkmanager
$ sudo pacman -S network-manager-applet
$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; NetworkManager.service        &lt;span class=&quot;c1&quot;&gt;# Enable Network Manager&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Disable dhcpcd since Network Manager will be handling the dhcpcd instead.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo systemctl disable dhcpcd.service
$ sudo systemctl disable dhcpcd@.service&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Alternatively, &lt;em&gt;ip address&lt;/em&gt; to get the interface name and do *dhcpcd &lt;name&gt;* to 
enable it manually or *sudo systemctl enable dhcpcd.service* to enable it as a
service. Especially in case of using ethernet during installation or not
using/installing Network Manager.&lt;/name&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; wpa_supplicant.service&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;aur-and-yaourt&quot;&gt;AUR and Yaourt&lt;/h4&gt;

&lt;p&gt;These are required to install AUR and Yaourt packages.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S --needed base-devel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;To install &lt;a href=&quot;https://aur.archlinux.org/&quot;&gt;AUR&lt;/a&gt; packages, extract tarball, 
run makepkg -s followed by pacman -U against the generated .pkg.tar.xz 
package to install it.&lt;/p&gt;

&lt;p&gt;Yaourt Prerequisite:&lt;br /&gt;
&lt;a href=&quot;https://aur.archlinux.org/packages/package-query/&quot;&gt;package-query&lt;/a&gt; 
from AUR.&lt;/p&gt;

&lt;p&gt;Install Yaourt:&lt;br /&gt;
&lt;a href=&quot;https://aur.archlinux.org/packages/yaourt/&quot;&gt;yaourt&lt;/a&gt; from AUR.&lt;/p&gt;

&lt;h4 id=&quot;fonts&quot;&gt;Fonts&lt;/h4&gt;

&lt;p&gt;Add this to &lt;em&gt;~/.config/fontconfig/fonts.conf&lt;/em&gt; for better font rendering.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; target&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;font&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;edit &lt;span class=&quot;k&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;assign&amp;quot;&lt;/span&gt; name&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;autohint&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;bool&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/bool&amp;gt;&amp;lt;/&lt;/span&gt;edit&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;edit &lt;span class=&quot;k&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;assign&amp;quot;&lt;/span&gt; name&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;hinting&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;bool&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/bool&amp;gt;&amp;lt;/&lt;/span&gt;edit&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;edit &lt;span class=&quot;k&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;assign&amp;quot;&lt;/span&gt; name&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;hintstyle&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;const&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;hintslight&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/const&amp;gt;&amp;lt;/&lt;/span&gt;edit&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;/&lt;span class=&quot;k&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S gsfonts
$ yaourt -S ttf-dejavu ttf-droid ttf-bitstream-vera ttf-cheapskate &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&amp;gt; ttf-freefont ttf-inconsolata ttf-indic-otf ttf-junicode ttf-liberation &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&amp;gt; ttf-linux-libertine&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;From AUR:&lt;br /&gt;
&lt;a href=&quot;https://aur.archlinux.org/packages/ttf-ms-fonts/&quot;&gt;ttf-ms-fonts&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;audio&quot;&gt;Audio&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S alsa-utils
$ amixer sset Master unmute        &lt;span class=&quot;c1&quot;&gt;# ALSA comes muted by default.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;multimedia&quot;&gt;Multimedia&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S gst-libav gst-plugins-ugly
$ sudo pacman -Sy --needed totem &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&amp;gt; gstreamer0.10-&lt;span class=&quot;o&quot;&gt;{{&lt;/span&gt;bad,good,ugly,base&lt;span class=&quot;o&quot;&gt;}{&lt;/span&gt;,-plugins&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,ffmpeg&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
$ sudo pacman -S x264
$ sudo pacman -S ffmpeg&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;additional-install-1&quot;&gt;Additional Install&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S brasero
$ sudo pacman -S chromium
$ sudo pacman -S file-roller
$ sudo pacman -S gedit
$ sudo pacman -S gimp
$ sudo pacman -S git 
$ sudo pacman -S gnome-tweak-tool
$ sudo pacman -S gparted
$ sudo pacman -S gvfs-mtp
$ sudo pacman -S gvfs-smb
$ sudo pacman -S irssi
$ sudo pacman -S handbrake
$ sudo pacman -S libreoffice
$ sudo pacman -S mutt
$ sudo pacman -S msmtp
$ sudo pacman -S net-tools
$ sudo pacman -S networkmanager-openconnect openconnect        &lt;span class=&quot;c1&quot;&gt;# VPN&lt;/span&gt;
$ sudo pacman -S offlineimap
$ sudo pacman -S openssh
$ sudo pacman -S pulseaudio-alsa
$ sudo pacman -S seahorse
$ sudo pacman -S rhythmbox
$ sudo pacman -S vim
$ sudo pacman -S vlc
$ sudo pacman -S xorg-xrandr                                   &lt;span class=&quot;c1&quot;&gt;# Optional&lt;/span&gt;
$ sudo pacman -S xorg-server-utils                             &lt;span class=&quot;c1&quot;&gt;# Optional&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Updated:&lt;/p&gt;

&lt;p&gt;xorg-server-utils has been replaced by xorg-apps&lt;/p&gt;

&lt;p&gt;From AUR:&lt;br /&gt;
&lt;a href=&quot;http://goo.gl/9bi8Gr&quot;&gt;chromium-pepper-flash&lt;/a&gt;&lt;br /&gt;
&lt;del&gt;&lt;a href=&quot;https://aur.archlinux.org/packages/chromium-libpdf/&quot;&gt;chromium-libpdf&lt;/a&gt;&lt;br /&gt;&lt;/del&gt;
&lt;a href=&quot;https://aur.archlinux.org/packages/etherwake/&quot;&gt;etherwake&lt;/a&gt;&lt;br /&gt;
&lt;del&gt;&lt;a href=&quot;https://aur.archlinux.org/packages/realvnc-viewer/&quot;&gt;realvnc-viewer&lt;/a&gt;&lt;/del&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo systemctl &lt;span class=&quot;nb&quot;&gt;enable&lt;/span&gt; sshd.service&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;mon-apr-21-2014&quot;&gt;Mon, Apr 21, 2014&lt;/h3&gt;

&lt;h3 id=&quot;arch-customisation&quot;&gt;&lt;a name=&quot;arch-2&quot;&gt;&lt;/a&gt;ARCH CUSTOMISATION&lt;/h3&gt;

&lt;h4 id=&quot;numix-theme&quot;&gt;Numix Theme&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S numix-themes&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;From AUR:&lt;br /&gt;
&lt;a href=&quot;http://goo.gl/alI4VE&quot;&gt;numix-icon-theme-git&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;http://goo.gl/QIqWh2&quot;&gt;numix-circle-icon-theme-git&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;gnome-dash-to-dock&quot;&gt;Gnome Dash to Dock&lt;/h4&gt;

&lt;p&gt;From AUR:&lt;br /&gt;
&lt;a href=&quot;http://goo.gl/YRSDX6&quot;&gt;gnome-shell-extension-dash-to-dock&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;gnome-tweak-tool&quot;&gt;Gnome Tweak Tool&lt;/h4&gt;

&lt;p&gt;Appearance-&amp;gt;Theme:&lt;br /&gt;
Set Window and GTK+ to Numix&lt;br /&gt;
Set Icons to Numix-Circle&lt;/p&gt;

&lt;p&gt;Extensions:&lt;br /&gt;
Enable Dash to Dock&lt;/p&gt;

&lt;p&gt;Windows-&amp;gt;Titlebar Buttons:&lt;br /&gt;
Enable Maximize and Minimize&lt;/p&gt;

&lt;h4 id=&quot;gnome-terminal&quot;&gt;Gnome Terminal&lt;/h4&gt;

&lt;p&gt;Clone default profile.&lt;/p&gt;

&lt;p&gt;Customise General:&lt;br /&gt;
Deselect “Use the system fixed width font” and change the default 
monospace 12 to 10.&lt;br /&gt;
Decrease default terminal size from 80x24 to 80x20.&lt;/p&gt;

&lt;p&gt;Customise Colors:&lt;br /&gt;
Deselect “Use colors from system theme”.&lt;br /&gt;
Use Green on Black scheme.&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;fri-apr-25-2014&quot;&gt;Fri, Apr 25, 2014&lt;/h3&gt;

&lt;h3 id=&quot;dotfiles&quot;&gt;&lt;a name=&quot;dotfiles-1&quot;&gt;&lt;/a&gt;DOTFILES&lt;/h3&gt;

&lt;h4 id=&quot;linux&quot;&gt;Linux&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;~/.bashrc&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;PS1&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;\u@\h:\w\$ &amp;#39;&lt;/span&gt;

HISTSIZE&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8000&lt;/span&gt;
HISTFILESIZE&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8000&lt;/span&gt;

PATH&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;$PATH:$HOME&lt;span class=&quot;sr&quot;&gt;/Documents/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;

source &lt;span class=&quot;s2&quot;&gt;&amp;quot;$HOME/.rvm/scripts/rvm&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;~/.vimrc&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;filetype&lt;/span&gt; plugin indent &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;tabstop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;softtabstop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;shiftwidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;noexpandtab&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;textwidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;80&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;formatoptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;t&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;syntax&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;spelllang&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;en_nz
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ruler&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;laststatus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;hlsearch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;mac&quot;&gt;Mac&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;~/.bashrc&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;HISTSIZE&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8000&lt;/span&gt;
HISTFILESIZE&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8000&lt;/span&gt;

PATH&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;$PATH:$HOME&lt;span class=&quot;sr&quot;&gt;/Documents/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;

export PATH&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;$PATH:$HOME/.rvm/bin&amp;quot;&lt;/span&gt; # Add RVM &lt;span class=&quot;k&quot;&gt;to&lt;/span&gt; PATH &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; scripting

export PS1&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;\u@\h:\w\$ &amp;#39;&lt;/span&gt;

export PROMPT_COMMAND&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;echo -ne &amp;quot;\033]0;$PWD\007&amp;quot;&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The RVM line is actually auto added as part of Octopress install
but included here for completeness.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;~/.bash_profile&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;source &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;/.bashrc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;~/.vimrc&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;filetype&lt;/span&gt; plugin indent &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;tabstop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;softtabstop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;shiftwidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;noexpandtab&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;textwidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;80&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;formatoptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;t&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;syntax&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;spelllang&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;en_nz
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ruler&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;laststatus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;hlsearch&lt;/span&gt;
 
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dark&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;colorscheme&lt;/span&gt; solarized

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &amp;amp;&lt;span class=&quot;nb&quot;&gt;titleold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;getcwd&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;~/.vim/ftplugin/html.vim&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;setlocal&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;shiftwidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;solarized-theme&quot;&gt;Solarized Theme&lt;/h4&gt;

&lt;p&gt;Download &lt;a href=&quot;http://ethanschoonover.com/solarized/files/solarized.zip&quot;&gt;theme&lt;/a&gt;
and copy vim’s colors folder to ~/.vim&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;email-setup&quot;&gt;&lt;a name=&quot;email-1&quot;&gt;&lt;/a&gt;EMAIL SETUP&lt;/h3&gt;

&lt;h4 id=&quot;msmtp&quot;&gt;msmtp&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;~/.msmtprc&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt; 
account First
host smtp.gmail.&lt;span class=&quot;k&quot;&gt;com&lt;/span&gt;
port &lt;span class=&quot;m&quot;&gt;587&lt;/span&gt;
protocol smtp
auth &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
from email&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;address
user email&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;address
password password
tls &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
tls_starttls &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
tls_trust_file &lt;span class=&quot;sr&quot;&gt;/etc/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ssl&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/certs/&lt;/span&gt;ca&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;certificates.crt

account Second
host smtp.gmail.&lt;span class=&quot;k&quot;&gt;com&lt;/span&gt;
port &lt;span class=&quot;m&quot;&gt;587&lt;/span&gt;
protocol smtp
auth &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
from email&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;address
user email&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;address
password password
tls &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
tls_starttls &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
tls_trust_file &lt;span class=&quot;sr&quot;&gt;/etc/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ssl&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/certs/&lt;/span&gt;ca&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;certificates.crt

account default : First&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;offlineimap&quot;&gt;Offlineimap&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;~/.offlineimaprc&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt; 
[general]
ui &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; ttyui
accounts &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; First&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Second

[Account First]
localrepository &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; First&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;Local
remoterepository &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; First&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;Remote

[Repository First&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;Local]
type &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; Maildir
localfolders &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/Mail/&lt;/span&gt;First

[Repository First&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;Remote]
type &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; Gmail
remoteuser &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; email&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;address
remotepass &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; password
realdelete &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; no
maxconnections &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;
sslcacertfile &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/etc/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ssl&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/certs/&lt;/span&gt;ca&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;certificates.crt

[Account Second]
localrepository &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; Second&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;Local
remoterepository &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; Second&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;Remote

[Repository Second&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;Local]
type &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; Maildir
localfolders &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/Mail/&lt;/span&gt;Second

[Repository Second&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;Remote]
type &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; Gmail
remoteuser &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; email&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;address
remotepass &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; password
realdelete &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; no
maxconnections &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;
sslcacertfile &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/etc/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ssl&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/certs/&lt;/span&gt;ca&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;certificates.crt&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Mac:&lt;br /&gt;
For both &lt;em&gt;~/.msmtprc&lt;/em&gt; and &lt;em&gt;~/.offlineimaprc&lt;/em&gt;, change certificate path to
&lt;em&gt;/usr/local/opt/curl-ca-bundle/share/ca-bundle.crt&lt;/em&gt; instead.&lt;/p&gt;

&lt;h4 id=&quot;mutt&quot;&gt;Mutt&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;~/.muttrc&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt; 
source &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/.mutt/&lt;/span&gt;accounts/First

folder&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;hook First&lt;span class=&quot;sr&quot;&gt;/* source ~/&lt;/span&gt;.mutt&lt;span class=&quot;sr&quot;&gt;/accounts/&lt;/span&gt;First
folder&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;hook Second&lt;span class=&quot;sr&quot;&gt;/* source ~/&lt;/span&gt;.mutt&lt;span class=&quot;sr&quot;&gt;/accounts/&lt;/span&gt;Second

macro index \e1  &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;lt;change-folder&amp;gt; =First/INBOX&amp;lt;enter&amp;gt;&amp;quot;&lt;/span&gt;
macro index \e2  &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;lt;change-folder&amp;gt; =Second/INBOX&amp;lt;enter&amp;gt;&amp;quot;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; editor&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;vim&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;~/.mutt/accounts/First&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; sendmail&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;msmtp-enqueue.sh -a First&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; envelope_from&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;yes
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; from&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;name &amp;lt;email-address&amp;gt;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; use_from&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;yes
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; edit_headers&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;yes

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; mbox_type&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;Maildir
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; folder&lt;span class=&quot;p&quot;&gt;=~&lt;/span&gt;/Mail
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; spoolfile&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;+First/INBOX&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; mbox&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;+First/[Gmail].All Mail&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; postponed&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;+First/[Gmail].Drafts&amp;quot;&lt;/span&gt;
unset record
mailboxes &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt;First/INBOX

macro index D \
&lt;span class=&quot;c&quot;&gt;    &amp;quot;&amp;lt;save-message&amp;gt;+First/[Gmail].Bin&amp;lt;enter&amp;gt;&amp;quot; \&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;    &amp;quot;move message to the trash&amp;quot;&lt;/span&gt;

macro index S \
&lt;span class=&quot;c&quot;&gt;    &amp;quot;&amp;lt;save-message&amp;gt;+First/[Gmail].Spam&amp;lt;enter&amp;gt;&amp;quot; \&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;    &amp;quot;mark message as spam&amp;quot;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;threads
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; sort_aux&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;last&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;date&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;received

source &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/.mutt/&lt;/span&gt;colour/mutt&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;scheme.muttrc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;~/.mutt/accounts/Second&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; sendmail&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;msmtp-enqueue.sh -a Second&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; envelope_from&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;yes
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; from&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;name &amp;lt;email-address&amp;gt;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; use_from&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;yes
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; edit_headers&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;yes

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; mbox_type&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;Maildir
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; folder&lt;span class=&quot;p&quot;&gt;=~&lt;/span&gt;/Mail
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; spoolfile&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;+Second/INBOX&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; mbox&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;+Second/[Gmail].All Mail&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; postponed&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;+Second/[Gmail].Drafts&amp;quot;&lt;/span&gt;
unset record
mailboxes &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt;Second/INBOX

macro index D \
&lt;span class=&quot;c&quot;&gt;    &amp;quot;&amp;lt;save-message&amp;gt;+Second/[Gmail].Bin&amp;lt;enter&amp;gt;&amp;quot; \&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;    &amp;quot;move message to the trash&amp;quot;&lt;/span&gt;

macro index S \
&lt;span class=&quot;c&quot;&gt;    &amp;quot;&amp;lt;save-message&amp;gt;+Second/[Gmail].Spam&amp;lt;enter&amp;gt;&amp;quot; \&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;    &amp;quot;mark message as spam&amp;quot;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;threads
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; sort_aux&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;last&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;date&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;received

source &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/.mutt/&lt;/span&gt;colour/mutt&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;scheme.muttrc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;~/.mutt/colour/mutt-scheme.muttrc&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;# header
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; header cyan black &lt;span class=&quot;s2&quot;&gt;&amp;quot;^from:&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; header cyan black &lt;span class=&quot;s2&quot;&gt;&amp;quot;^to:&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; header cyan black &lt;span class=&quot;s2&quot;&gt;&amp;quot;^cc:&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; header cyan black &lt;span class=&quot;s2&quot;&gt;&amp;quot;^date:&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; header cyan black &lt;span class=&quot;s2&quot;&gt;&amp;quot;^reply-to:&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; header cyan black &lt;span class=&quot;s2&quot;&gt;&amp;quot;^subject:&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; header cyan black &lt;span class=&quot;s2&quot;&gt;&amp;quot;^x-mailer:&amp;quot;&lt;/span&gt;

# Default &lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; definitions
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; signature brightmagenta black
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; indicator black cyan
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; attachment yellow black
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; error &lt;span class=&quot;k&quot;&gt;red&lt;/span&gt; black
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; message white black
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; search brightwhite magenta
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; status brightgreen blue
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; tree &lt;span class=&quot;k&quot;&gt;red&lt;/span&gt; black
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; normal white black
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; tilde green black
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bold&lt;/span&gt; brightyellow black
&lt;span class=&quot;k&quot;&gt;color&lt;/span&gt; markers &lt;span class=&quot;k&quot;&gt;red&lt;/span&gt; black&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;msmtpqueue&quot;&gt;msmtpqueue&lt;/h4&gt;

&lt;p&gt;Download and extract
&lt;a href=&quot;http://sourceforge.net/projects/msmtp/files/msmtpqueue/&quot;&gt;msmtpqueue&lt;/a&gt; to
~/bin&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;wed-apr-30-2014&quot;&gt;Wed, Apr 30, 2014&lt;/h3&gt;

&lt;h3 id=&quot;server-installation&quot;&gt;&lt;a name=&quot;server-1&quot;&gt;&lt;/a&gt;SERVER INSTALLATION&lt;/h3&gt;

&lt;h4 id=&quot;media-1&quot;&gt;Media&lt;/h4&gt;

&lt;p&gt;ISO available via Ubuntu Server 
&lt;a href=&quot;http://www.ubuntu.com/download/server&quot;&gt;download&lt;/a&gt; page.&lt;/p&gt;

&lt;h4 id=&quot;installation&quot;&gt;Installation&lt;/h4&gt;

&lt;p&gt;Select language.&lt;br /&gt;
Select location.&lt;/p&gt;

&lt;p&gt;Configure keyboard:&lt;br /&gt;
Detect keyboard: No&lt;br /&gt;
Select origin and layout.&lt;/p&gt;

&lt;p&gt;Enter hostname.&lt;br /&gt;
Enter full name and username for new user.&lt;br /&gt;
Enter password.&lt;br /&gt;
Choose whether to encrypt home directory.&lt;br /&gt;
Set time zone.&lt;br /&gt;
Partition disks.&lt;br /&gt;
Enter proxy if relevant, else leave blank and continue.&lt;br /&gt;
Choose how to manage updates.&lt;/p&gt;

&lt;p&gt;Software Selection:&lt;br /&gt;
Basic Ubuntu server&lt;br /&gt;
OpenSSH server&lt;br /&gt;
Samba file server&lt;/p&gt;

&lt;p&gt;Install boot loader.&lt;br /&gt;
Reboot.&lt;/p&gt;

&lt;h4 id=&quot;static-ip-address&quot;&gt;Static IP Address&lt;/h4&gt;

&lt;p&gt;Ethernet:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/etc/network/interfaces&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;auto eth0
iface eth0 inet static
        address &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;ip&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;address&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        netmask &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;netmask&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        network &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;network&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        broadcast &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;broadcast&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        gateway &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;gateway&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        dns&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;nameservers &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;dns&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;nameservers&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Wireless:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/etc/network/interfaces&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;auto wlan0
iface wlan0 inet static
        address &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;ip&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;address&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        netmask &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;netmask&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        network &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;network&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        broadcast &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;broadcast&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        gateway &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;gateway&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        dns&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;nameservers &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;dns&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;nameservers&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        wpa&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;ssid &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;ssid&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        wpa&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;psk &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;passphrase&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Optional:&lt;br /&gt;
Comment out interfaces if not required.&lt;/p&gt;

&lt;h4 id=&quot;update&quot;&gt;Update&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get update
$ sudo apt-get upgrades
$ sudo apt-get aptitude        &lt;span class=&quot;c1&quot;&gt;# Useful if not already installed&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;samba-setup&quot;&gt;&lt;a name=&quot;samba-1&quot;&gt;&lt;/a&gt;SAMBA SETUP&lt;/h3&gt;

&lt;h4 id=&quot;directory-structure&quot;&gt;Directory Structure&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo mkdir -p /shares/data          &lt;span class=&quot;c1&quot;&gt;# data directory&lt;/span&gt;
$ &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /shares/data
$ sudo mkdir daniel                   &lt;span class=&quot;c1&quot;&gt;# home directory&lt;/span&gt;
$ sudo groupadd data
$ sudo chown daniel:data daniel
$ chmod o-rx daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;sysadmin&quot;&gt;sysadmin&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo useradd -m -G data -s /bin/bash sysadmin
$ sudo passwd sysadmin&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;config&quot;&gt;Config&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;/etc/samba/smb.conf&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;workgroup &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;workgroup&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;name&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
wins support &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; yes
name resolve order &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; lmhosts host wins bcast
security &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; user

[Data]
comment &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; Data
&lt;span class=&quot;nb&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/shares/&lt;/span&gt;data
browseable &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; yes
read &lt;span class=&quot;k&quot;&gt;only&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; yes
valid users &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; sysadmin

[Daniel]
comment &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; Daniel
&lt;span class=&quot;nb&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/shares/&lt;/span&gt;data/daniel
browseable &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; yes
read &lt;span class=&quot;k&quot;&gt;only&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; no
valid users &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Sets Samba password. I think smbpasswd ties in with passwd but needed in this
case since password was set prior to Samba installation.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ smbpasswd -a daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;dlna&quot;&gt;&lt;a name=&quot;dlna-1&quot;&gt;&lt;/a&gt;DLNA&lt;/h3&gt;

&lt;h4 id=&quot;ps3-media-server&quot;&gt;PS3 Media Server&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get install python-software-properties
$ sudo add-apt-repository ppa:happy-neko/ps3mediaserver
$ sudo apt-get update 
$ sudo apt-get install ps3mediaserver&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;directory-structure-1&quot;&gt;Directory Structure&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo mkdir -p /shares/stream        &lt;span class=&quot;c1&quot;&gt;# stream directory&lt;/span&gt;
$ &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /shares
$ sudo groupadd stream
$ sudo chgrp stream stream
$ sudo chmod g+w,o-rx stream
$ sudo usermod -a -G stream daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;ps3&quot;&gt;ps3&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo useradd -m -G stream -s /bin/bash ps3
$ sudo passwd ps3&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;daemon&quot;&gt;Daemon&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;/etc/default/ps3mediaserver&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;PMS_START&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;yes&amp;quot;&lt;/span&gt;
PMS_USER&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;ps3&amp;quot;&lt;/span&gt;
PMS_PROFILE&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;/home/$PMS_USER/.config/ps3mediaserver&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;config-1&quot;&gt;Config&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;/etc/samba/smb.conf&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;[Stream]
comment &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; Stream
&lt;span class=&quot;nb&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/shares/&lt;/span&gt;stream
browseable &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; yes
read &lt;span class=&quot;k&quot;&gt;only&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; no
valid users &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; daniel&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;/home/ps3/.config/ps3mediaserver/PMS.conf&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-vim&quot; data-lang=&quot;vim&quot;&gt;&lt;span&gt;&lt;/span&gt;usecache &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; false
hide_empty_folders &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; true
folders &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/shares/&lt;/span&gt;stream&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Remove &lt;em&gt;/home/ps3/.config/ps3mediaserver/WEB.conf&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Reboot&lt;/p&gt;

&lt;p&gt;Needed sometimes if media not playing, especially newly added.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo service ps3mediaserver restart&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><category term="linux" /><summary type="html">Contents</summary></entry><entry><title type="html">Jan</title><link href="http://localhost:4000/log/2014/01/01/Jan.html" rel="alternate" type="text/html" title="Jan" /><published>2014-01-01T13:00:00+13:00</published><updated>2014-01-01T13:00:00+13:00</updated><id>http://localhost:4000/log/2014/01/01/Jan</id><content type="html" xml:base="http://localhost:4000/log/2014/01/01/Jan.html">&lt;p&gt;&lt;strong&gt;Contents&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#laneway-1&quot;&gt;Laneway Festival&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;fri-jan-31-2014&quot;&gt;Fri, Jan 31, 2014&lt;/h3&gt;

&lt;h3 id=&quot;laneway-festival&quot;&gt;&lt;a name=&quot;laneway-1&quot;&gt;&lt;/a&gt;LANEWAY FESTIVAL&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/log/media/2014/laneway-festival.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Laneway 2014, weather cleared, summery but windy. I was covered up pretty 
well but sunburned from neck up despite my conscious effort to avoid it. 
It is summer after all.&lt;/p&gt;

&lt;p&gt;Highlight was Chvrches, they were the second last act on main stage. Daughter 
was all right though sound level could had been better but glad to have finally 
seen them live. Well worth getting there early. Cat Power was a let down, it’s 
just not the same without her band.&lt;/p&gt;</content><author><name></name></author><category term="music" /><summary type="html">Contents</summary></entry></feed>